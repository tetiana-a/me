<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Choose Your Path</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #0a0a0a;
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray-dark: #1a1a1a;
            --accent: #4a4a4a;
            --shadow: rgba(0, 0, 0, 0.1);
            --glow: rgba(255, 255, 255, 0.5);
            --quantum-blue: #00a8ff;
            --quantum-purple: #7a00ff;
            --quantum-pink: #ff00aa;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, var(--black) 0%, var(--gray-dark) 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            touch-action: manipulation;
        }

        /* Responsive Background Animation */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
        }

        .particle {
            position: absolute;
            background: var(--white);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        .quantum-particle {
            position: absolute;
            border-radius: 50%;
            animation: quantum-float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: scale(1);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        @keyframes quantum-float {
            0% {
                transform: translateY(100vh) translateX(0) translateZ(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            50% {
                transform: translateY(50vh) translateX(50px) translateZ(20px) rotate(180deg);
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) translateX(-50px) translateZ(-20px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Header */
        .header {
            text-align: center;
            margin-bottom: clamp(20px, 5vw, 60px);
            animation: fadeInDown 1s ease-out;
            z-index: 10;
            padding: 0 clamp(10px, 3vw, 20px);
        }

        .title {
            font-size: clamp(1.8rem, 6vw, 4rem);
            font-weight: 300;
            color: var(--white);
            letter-spacing: -2px;
            margin-bottom: clamp(10px, 3vw, 20px);
            background: linear-gradient(135deg, var(--white) 0%, var(--gray-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 40px var(--glow);
            line-height: 1.1;
        }

        .subtitle {
            font-size: clamp(0.8rem, 2.5vw, 1.5rem);
            color: var(--gray-light);
            font-weight: 300;
            opacity: 0.8;
            letter-spacing: clamp(1px, 2vw, 2px);
            text-transform: uppercase;
        }

        /* Responsive 5D Balls Container */
        .balls-container {
            display: flex;
            gap: clamp(20px, 5vw, 100px);
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            padding: clamp(10px, 3vw, 20px);
            animation: fadeInUp 1s ease-out 0.3s both;
            perspective: clamp(800px, 100vw, 1500px);
            position: relative;
            max-width: 100%;
        }

        /* Responsive Ball Wrapper */
        .ball-wrapper {
            position: relative;
            width: clamp(120px, 25vw, 300px);
            height: clamp(120px, 25vw, 300px);
            perspective: clamp(600px, 80vw, 1500px);
            transform-style: preserve-3d;
            flex-shrink: 0;
        }

        /* Responsive 5D Ball */
        .ball {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            animation: 
                rotate5d 20s infinite linear,
                morph5d 8s infinite ease-in-out alternate,
                breathe5d 4s infinite ease-in-out alternate;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
            will-change: transform;
        }

        .ball:hover {
            animation-play-state: paused;
            transform: scale(1.15) rotateY(180deg) rotateX(20deg) translateZ(50px);
        }

        /* Black 5D Ball */
        .ball-black {
            background: 
                radial-gradient(circle at 30% 30%, #2a2a2a, var(--black) 70%),
                linear-gradient(135deg, #2a2a2a, var(--black));
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                inset -10px -10px 30px rgba(255, 255, 255, 0.1),
                inset 10px 10px 30px rgba(0, 0, 0, 0.8),
                0 0 0 2px rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .ball-black:hover {
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.7),
                0 0 60px rgba(255, 255, 255, 0.2),
                inset -10px -10px 30px rgba(255, 255, 255, 0.2),
                inset 10px 10px 30px rgba(0, 0, 0, 0.9),
                0 0 0 3px rgba(255, 255, 255, 0.2);
        }

        /* White 5D Ball */
        .ball-white {
            background: 
                radial-gradient(circle at 30% 30%, var(--white), var(--gray-light) 70%),
                linear-gradient(135deg, var(--gray-light), var(--white));
            box-shadow: 
                0 20px 60px rgba(255, 255, 255, 0.3),
                inset -10px -10px 30px rgba(0, 0, 0, 0.1),
                inset 10px 10px 30px rgba(255, 255, 255, 0.8),
                0 0 0 2px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(0, 0, 0, 0.1);
        }

        .ball-white:hover {
            box-shadow: 
                0 30px 80px rgba(255, 255, 255, 0.5),
                0 0 60px rgba(0, 0, 0, 0.2),
                inset -10px -10px 30px rgba(0, 0, 0, 0.2),
                inset 10px 10px 30px rgba(255, 255, 255, 0.9),
                0 0 0 3px rgba(0, 0, 0, 0.2);
        }

        /* Responsive Text on Balls */
        .ball-text {
            font-size: clamp(0.7rem, 2.5vw, 1.3rem);
            font-weight: 600;
            text-align: center;
            pointer-events: none;
            transition: all 0.6s ease;
            text-transform: uppercase;
            letter-spacing: clamp(0.5px, 1.5vw, 1px);
            z-index: 2;
            animation: text-glow 3s infinite alternate;
            padding: 0 5px;
        }

        .ball-black .ball-text {
            color: var(--white);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .ball-white .ball-text {
            color: var(--black);
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.5);
        }

        .ball:hover .ball-text {
            transform: scale(1.1);
            letter-spacing: 2px;
        }

        /* Responsive Icons */
        .ball-icon {
            font-size: clamp(1.5rem, 4vw, 3rem);
            margin-bottom: clamp(8px, 2vw, 15px);
            transition: all 0.6s ease;
            animation: icon-rotate 10s infinite linear;
        }

        .ball:hover .ball-icon {
            transform: scale(1.2) rotate(720deg);
        }

        /* Responsive Pulse Ring */
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid;
            opacity: 0;
            animation: 
                pulse5d 2s infinite,
                pulse-rotate 5s infinite linear;
            pointer-events: none;
        }

        .ball-black .pulse-ring {
            border-color: var(--white);
        }

        .ball-white .pulse-ring {
            border-color: var(--black);
        }

        /* Responsive Quantum Field */
        .quantum-field {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            opacity: 0.2;
            pointer-events: none;
            overflow: hidden;
        }

        .quantum-wave {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent,
                var(--quantum-blue),
                transparent,
                var(--quantum-purple),
                transparent,
                var(--quantum-pink),
                transparent
            );
            animation: quantum-rotate 8s infinite linear;
            opacity: 0.3;
        }

        /* Responsive Particle Emitter */
        .particle-emitter {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
            opacity: 0;
        }

        .particle-emitter.active {
            animation: emit-particles 2s infinite;
        }

        /* 5D Animations - Performance Optimized */
        @keyframes rotate5d {
            0% {
                transform: rotateY(0deg) rotateX(0deg) rotateZ(0deg);
            }
            25% {
                transform: rotateY(90deg) rotateX(15deg) rotateZ(5deg);
            }
            50% {
                transform: rotateY(180deg) rotateX(0deg) rotateZ(10deg);
            }
            75% {
                transform: rotateY(270deg) rotateX(-15deg) rotateZ(5deg);
            }
            100% {
                transform: rotateY(360deg) rotateX(0deg) rotateZ(0deg);
            }
        }

        @keyframes morph5d {
            0% {
                border-radius: 50%;
                transform: scale(1) rotateY(0deg);
            }
            25% {
                border-radius: 45% 55% 50% 50%;
                transform: scale(1.05) rotateY(90deg);
            }
            50% {
                border-radius: 50% 50% 45% 55%;
                transform: scale(0.95) rotateY(180deg);
            }
            75% {
                border-radius: 55% 45% 50% 50%;
                transform: scale(1.02) rotateY(270deg);
            }
            100% {
                border-radius: 50%;
                transform: scale(1) rotateY(360deg);
            }
        }

        @keyframes breathe5d {
            0% {
                transform: translateZ(0px) scale(1);
                filter: brightness(1);
            }
            50% {
                transform: translateZ(20px) scale(1.05);
                filter: brightness(1.1);
            }
            100% {
                transform: translateZ(0px) scale(1);
                filter: brightness(1);
            }
        }

        @keyframes pulse5d {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.8;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }

        @keyframes pulse-rotate {
            0% {
                transform: translate(-50%, -50%) scale(1) rotateZ(0deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5) rotateZ(360deg);
            }
        }

        @keyframes quantum-rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes text-glow {
            0% {
                text-shadow: 0 0 5px currentColor;
            }
            100% {
                text-shadow: 0 0 15px currentColor, 0 0 25px currentColor;
            }
        }

        @keyframes icon-rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes emit-particles {
            0% {
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        /* Standard Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive 5D Click Effect */
        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: ripple-effect5d 0.8s ease-out;
            pointer-events: none;
        }

        @keyframes ripple-effect5d {
            0% {
                width: 0;
                height: 0;
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(0) rotateZ(0deg);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.5) rotateZ(180deg);
            }
            100% {
                width: clamp(200px, 60vw, 400px);
                height: clamp(200px, 60vw, 400px);
                opacity: 0;
                transform: translate(-50%, -50%) scale(2) rotateZ(360deg);
            }
        }

        /* Responsive Control Panel */
        .control-panel {
            position: fixed;
            top: clamp(10px, 2vw, 20px);
            right: clamp(10px, 2vw, 20px);
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: clamp(8px, 2vw, 10px);
            padding: clamp(10px, 2vw, 15px);
            color: var(--white);
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: clamp(5px, 1.5vw, 10px);
            max-width: 150px;
        }

        .control-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--white);
            padding: clamp(6px, 1.5vw, 8px) clamp(8px, 2vw, 12px);
            border-radius: clamp(4px, 1vw, 5px);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(0.6rem, 1.8vw, 0.8rem);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .control-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .control-button.active {
            background: var(--quantum-blue);
            border-color: var(--quantum-blue);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: clamp(10px, 2vw, 20px);
            left: clamp(10px, 2vw, 20px);
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--white);
            padding: clamp(8px, 2vw, 10px);
            border-radius: clamp(6px, 1.5vw, 8px);
            cursor: pointer;
            z-index: 101;
            font-size: clamp(1rem, 3vw, 1.2rem);
        }

        /* Loader */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--black);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-circle {
            width: clamp(30px, 8vw, 50px);
            height: clamp(30px, 8vw, 50px);
            border: 3px solid var(--gray-light);
            border-top-color: var(--white);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive Footer */
        .footer {
            position: absolute;
            bottom: clamp(10px, 2vw, 20px);
            text-align: center;
            color: var(--gray-light);
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            opacity: 0.6;
            animation: fadeInUp 1s ease-out 0.6s both;
            padding: 0 clamp(10px, 3vw, 20px);
        }

        /* Custom Cursor - Desktop Only */
        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid var(--white);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transition: all 0.1s ease;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
        }

        .custom-cursor.hover {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
        }

        /* Responsive Breakpoints */

        /* Extra Small Devices (Phones in portrait) */
        @media (max-width: 480px) {
            .balls-container {
                flex-direction: column;
                gap: clamp(30px, 8vw, 40px);
            }

            .ball-wrapper {
                width: clamp(100px, 35vw, 150px);
                height: clamp(100px, 35vw, 150px);
            }

            .title {
                font-size: clamp(1.5rem, 7vw, 2rem);
            }

            .subtitle {
                font-size: clamp(0.7rem, 3vw, 0.9rem);
            }

            .control-panel {
                top: auto;
                bottom: clamp(60px, 15vw, 80px);
                right: 50%;
                transform: translateX(50%);
                flex-direction: row;
                max-width: 90%;
                justify-content: center;
                padding: clamp(8px, 2vw, 10px);
            }

            .control-button {
                flex: 1;
                text-align: center;
                font-size: clamp(0.5rem, 2vw, 0.6rem);
                padding: clamp(5px, 1.5vw, 6px) clamp(6px, 2vw, 8px);
            }

            .mobile-menu-toggle {
                display: block;
            }

            .custom-cursor {
                display: none;
            }

            .ball {
                animation-duration: 25s, 10s, 5s; /* Slower animations for mobile */
            }
        }

        /* Small Devices (Phones in landscape) */
        @media (max-width: 768px) and (orientation: landscape) {
            .header {
                margin-bottom: clamp(10px, 2vw, 20px);
            }

            .balls-container {
                gap: clamp(15px, 4vw, 30px);
            }

            .ball-wrapper {
                width: clamp(80px, 20vw, 120px);
                height: clamp(80px, 20vw, 120px);
            }

            .control-panel {
                top: clamp(5px, 1vw, 10px);
                right: clamp(5px, 1vw, 10px);
                padding: clamp(5px, 1vw, 8px);
            }

            .control-button {
                font-size: clamp(0.5rem, 1.5vw, 0.7rem);
                padding: clamp(4px, 1vw, 6px) clamp(6px, 1.5vw, 8px);
            }
        }

        /* Medium Devices (Tablets) */
        @media (min-width: 768px) and (max-width: 1024px) {
            .balls-container {
                gap: clamp(30px, 6vw, 60px);
            }

            .ball-wrapper {
                width: clamp(140px, 22vw, 200px);
                height: clamp(140px, 22vw, 200px);
            }

            .title {
                font-size: clamp(2rem, 5vw, 3rem);
            }

            .subtitle {
                font-size: clamp(0.9rem, 2.5vw, 1.2rem);
            }

            .control-panel {
                font-size: clamp(0.8rem, 1.8vw, 0.9rem);
            }
        }

        /* Large Devices (Desktops) */
        @media (min-width: 1024px) and (max-width: 1440px) {
            .balls-container {
                gap: clamp(40px, 5vw, 80px);
            }

            .ball-wrapper {
                width: clamp(180px, 18vw, 250px);
                height: clamp(180px, 18vw, 250px);
            }
        }

        /* Extra Large Devices (Ultra-wide) */
        @media (min-width: 1440px) {
            .balls-container {
                gap: clamp(60px, 4vw, 120px);
            }

            .ball-wrapper {
                width: clamp(250px, 15vw, 350px);
                height: clamp(250px, 15vw, 350px);
            }

            .title {
                font-size: clamp(3rem, 4vw, 5rem);
            }

            .subtitle {
                font-size: clamp(1.2rem, 2vw, 1.8rem);
            }

            .control-panel {
                font-size: clamp(0.9rem, 1.2vw, 1rem);
                padding: clamp(12px, 1.5vw, 20px);
            }
        }

        /* High DPI Displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .ball {
                box-shadow: 
                    0 20px 60px rgba(0, 0, 0, 0.5),
                    inset -10px -10px 30px rgba(255, 255, 255, 0.1),
                    inset 10px 10px 30px rgba(0, 0, 0, 0.8),
                    0 0 0 1px rgba(255, 255, 255, 0.1);
            }

            .ball-black:hover {
                box-shadow: 
                    0 30px 80px rgba(0, 0, 0, 0.7),
                    0 0 60px rgba(255, 255, 255, 0.2),
                    inset -10px -10px 30px rgba(255, 255, 255, 0.2),
                    inset 10px 10px 30px rgba(0, 0, 0, 0.9),
                    0 0 0 2px rgba(255, 255, 255, 0.2);
            }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            .ball {
                animation: none;
            }

            .particle {
                animation: none;
            }

            .quantum-particle {
                animation: none;
            }

            .quantum-wave {
                animation: none;
            }

            .ball:hover {
                transform: scale(1.1);
            }
        }

        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .ball {
                transition: transform 0.3s ease;
            }

            .ball:active {
                transform: scale(0.95);
            }

            .ball:hover {
                animation-play-state: running;
                transform: scale(1.05);
            }

            .control-button {
                min-height: 44px; /* Touch target size */
                min-width: 44px;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }

            .background-animation,
            .control-panel,
            .custom-cursor,
            .loader {
                display: none;
            }

            .ball {
                background: white !important;
                border: 2px solid black !important;
                box-shadow: none !important;
            }

            .ball-text {
                color: black !important;
            }
        }
    </style>
</head>
<body>
    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="loader-circle"></div>
    </div>

    <!-- Responsive Background Animation -->
    <div class="background-animation" id="bgAnimation"></div>

    <!-- Custom Cursor (Desktop Only) -->
    <div class="custom-cursor" id="cursor"></div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">‚öôÔ∏è</button>

    <!-- Responsive Control Panel -->
    <div class="control-panel" id="controlPanel">
        <button class="control-button active" id="toggle5d">5D Mode</button>
        <button class="control-button" id="toggleQuantum">Quantum</button>
        <button class="control-button" id="toggleParticles">Particles</button>
    </div>

    <!-- Header -->
    <header class="header">
        <h1 class="title">Choose Your Path</h1>
        <p class="subtitle">Two Worlds ‚Äî One Choice</p>
    </header>

    <!-- Responsive 5D Balls Container -->
    <main class="balls-container">
        <!-- Black 5D Ball -->
        <div class="ball-wrapper">
            <div class="ball ball-black" onclick="navigateTo('https://tetiana-a.github.io/senioraA/')">
                <div class="quantum-field">
                    <div class="quantum-wave"></div>
                </div>
                <div class="pulse-ring"></div>
                <div class="particle-emitter" id="blackEmitter"></div>
                <div class="ball-icon">üåë</div>
                <div class="ball-text">Choose Me</div>
            </div>
        </div>

        <!-- White 5D Ball -->
        <div class="ball-wrapper">
            <div class="ball ball-white" onclick="navigateTo('https://tetiana-a.github.io/seniora/')">
                <div class="quantum-field">
                    <div class="quantum-wave"></div>
                </div>
                <div class="pulse-ring"></div>
                <div class="particle-emitter" id="whiteEmitter"></div>
                <div class="ball-icon">üåï</div>
                <div class="ball-text">Choose Me</div>
            </div>
        </div>
    </main>

    <!-- Responsive Footer -->
    <footer class="footer">
        <p>¬© 2025 | 5D Quantum Experience</p>
    </footer>

    <script>
        // Device Detection and Optimization
        const device = {
            isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
            isTablet: /iPad|Android(?!.*Mobile)/i.test(navigator.userAgent),
            isTouch: 'ontouchstart' in window || navigator.maxTouchPoints > 0,
            isHighDPI: window.devicePixelRatio > 1,
            prefersReducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
            width: window.innerWidth,
            height: window.innerHeight,
            orientation: window.orientation || 'portrait'
        };

        // 5D State Management
        const state5D = {
            mode5d: true,
            quantumField: false,
            particleEmission: false,
            mouseX: 0,
            mouseY: 0,
            time: 0,
            performanceMode: device.isMobile || device.prefersReducedMotion
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loader
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 800);

            // Create background particles based on device performance
            createBackgroundParticles();

            // Initialize custom cursor for desktop only
            if (!device.isTouch) {
                initCustomCursor();
            }

            // Add click effects
            addClickEffects();

            // Initialize 5D effects
            init5DEffects();

            // Initialize control panel
            initControlPanel();

            // Initialize mobile menu
            initMobileMenu();

            // Start animation loop with performance optimization
            startAnimationLoop();

            // Handle orientation changes
            handleOrientationChange();

            // Optimize for device
            optimizeForDevice();
        });

        // Create background particles with performance optimization
        function createBackgroundParticles() {
            const bgAnimation = document.getElementById('bgAnimation');
            const particleCount = device.isMobile ? 20 : 50;
            const quantumCount = device.isMobile ? 8 : 20;

            // Regular particles
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * (device.isMobile ? 3 : 4) + 1;
                const left = Math.random() * 100;
                const delay = Math.random() * 20;
                const duration = Math.random() * 20 + 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${left}%`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                bgAnimation.appendChild(particle);
            }

            // Quantum particles (reduced on mobile)
            for (let i = 0; i < quantumCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'quantum-particle';
                
                const size = Math.random() * (device.isMobile ? 4 : 6) + 2;
                const left = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 15 + 10;
                
                const colors = ['var(--quantum-blue)', 'var(--quantum-purple)', 'var(--quantum-pink)'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${left}%`;
                particle.style.background = color;
                particle.style.boxShadow = `0 0 ${device.isMobile ? 5 : 10}px ${color}`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                bgAnimation.appendChild(particle);
            }
        }

        // Custom cursor for desktop only
        function initCustomCursor() {
            if (device.isTouch) return;

            const cursor = document.getElementById('cursor');
            const balls = document.querySelectorAll('.ball');

            document.addEventListener('mousemove', (e) => {
                state5D.mouseX = e.clientX;
                state5D.mouseY = e.clientY;
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });

            balls.forEach(ball => {
                ball.addEventListener('mouseenter', () => {
                    cursor.classList.add('hover');
                });
                
                ball.addEventListener('mouseleave', () => {
                    cursor.classList.remove('hover');
                });
            });
        }

        // 5D Click Effects with touch optimization
        function addClickEffects() {
            const balls = document.querySelectorAll('.ball');

            balls.forEach(ball => {
                // Mouse events
                ball.addEventListener('click', handleClick);
                
                // Touch events
                ball.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    handleClick({ 
                        clientX: touch.clientX, 
                        clientY: touch.clientY,
                        target: ball
                    });
                });
            });

            function handleClick(e) {
                const ball = e.target.closest('.ball');
                if (!ball) return;

                // Create 5D ripple effect
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                
                const isBlack = ball.classList.contains('ball-black');
                if (isBlack) {
                    ripple.style.background = 'rgba(255, 255, 255, 0.3)';
                    ripple.style.border = '2px solid rgba(255, 255, 255, 0.5)';
                    ripple.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.5)';
                } else {
                    ripple.style.background = 'rgba(0, 0, 0, 0.1)';
                    ripple.style.border = '2px solid rgba(0, 0, 0, 0.3)';
                    ripple.style.boxShadow = '0 0 20px rgba(0, 0, 0, 0.3)';
                }
                
                const rect = ball.getBoundingClientRect();
                ripple.style.left = (e.clientX - rect.left) + 'px';
                ripple.style.top = (e.clientY - rect.top) + 'px';
                
                ball.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 800);

                // Create particle burst (reduced on mobile)
                if (state5D.particleEmission && !device.isMobile) {
                    createParticleBurst(e.clientX, e.clientY, isBlack);
                }

                // Haptic feedback on mobile
                if (device.isMobile && navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }
        }

        // Create particle burst effect (performance optimized)
        function createParticleBurst(x, y, isBlack) {
            if (device.isMobile) return; // Skip on mobile for performance

            const particleCount = device.isHighDPI ? 30 : 20;
            const color = isBlack ? 'rgba(255, 255, 255, 0.7)' : 'rgba(0, 0, 0, 0.7)';
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.borderRadius = '50%';
                particle.style.background = color;
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '9999';
                
                document.body.appendChild(particle);
                
                const angle = (Math.PI * 2 * i) / particleCount;
                const velocity = 5 + Math.random() * 5;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                let posX = x;
                let posY = y;
                let opacity = 1;
                
                const animateParticle = () => {
                    posX += vx;
                    posY += vy;
                    opacity -= 0.02;
                    
                    particle.style.left = posX + 'px';
                    particle.style.top = posY + 'px';
                    particle.style.opacity = opacity;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animateParticle);
                    } else {
                        document.body.removeChild(particle);
                    }
                };
                
                requestAnimationFrame(animateParticle);
            }
        }

        // Initialize 5D Effects with device optimization
        function init5DEffects() {
            if (device.isTouch) return; // Skip complex interactions on touch devices

            const balls = document.querySelectorAll('.ball');
            
            balls.forEach((ball, index) => {
                ball.addEventListener('mousemove', (e) => {
                    if (!state5D.mode5d) return;
                    
                    const rect = ball.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    
                    const rotateY = (x / rect.width) * 30;
                    const rotateX = -(y / rect.height) * 30;
                    
                    ball.style.transform = `rotateY(${rotateY}deg) rotateX(${rotateX}deg) scale(1.1)`;
                });
                
                ball.addEventListener('mouseleave', () => {
                    if (!state5D.mode5d) return;
                    ball.style.transform = '';
                });
            });
        }

        // Initialize Control Panel with mobile optimization
        function initControlPanel() {
            const toggle5d = document.getElementById('toggle5d');
            const toggleQuantum = document.getElementById('toggleQuantum');
            const toggleParticles = document.getElementById('toggleParticles');
            
            toggle5d.addEventListener('click', () => {
                state5D.mode5d = !state5D.mode5d;
                toggle5d.classList.toggle('active');
                
                const balls = document.querySelectorAll('.ball');
                balls.forEach(ball => {
                    if (state5D.mode5d && !state5D.performanceMode) {
                        ball.style.animationPlayState = 'running';
                    } else {
                        ball.style.animationPlayState = 'paused';
                    }
                });
            });
            
            toggleQuantum.addEventListener('click', () => {
                state5D.quantumField = !state5D.quantumField;
                toggleQuantum.classList.toggle('active');
                
                const quantumFields = document.querySelectorAll('.quantum-field');
                quantumFields.forEach(field => {
                    field.style.display = state5D.quantumField ? 'block' : 'none';
                });
            });
            
            toggleParticles.addEventListener('click', () => {
                state5D.particleEmission = !state5D.particleEmission;
                toggleParticles.classList.toggle('active');
                
                const blackEmitter = document.getElementById('blackEmitter');
                const whiteEmitter = document.getElementById('whiteEmitter');
                
                if (state5D.particleEmission && !device.isMobile) {
                    blackEmitter.classList.add('active');
                    whiteEmitter.classList.add('active');
                    startParticleEmission();
                } else {
                    blackEmitter.classList.remove('active');
                    whiteEmitter.classList.remove('active');
                    stopParticleEmission();
                }
            });
        }

        // Initialize Mobile Menu
        function initMobileMenu() {
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const controlPanel = document.getElementById('controlPanel');
            
            if (!mobileToggle) return;
            
            mobileToggle.addEventListener('click', () => {
                controlPanel.style.display = controlPanel.style.display === 'none' ? 'flex' : 'none';
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileToggle.contains(e.target) && !controlPanel.contains(e.target)) {
                    controlPanel.style.display = 'none';
                }
            });
        }

        // Particle emission (desktop only)
        let particleEmissionInterval;
        
        function startParticleEmission() {
            if (device.isMobile) return;
            
            particleEmissionInterval = setInterval(() => {
                if (!state5D.particleEmission) return;
                
                const blackEmitter = document.getElementById('blackEmitter');
                const whiteEmitter = document.getElementById('whiteEmitter');
                
                createEmissionParticle(blackEmitter, true);
                createEmissionParticle(whiteEmitter, false);
            }, 200);
        }
        
        function stopParticleEmission() {
            clearInterval(particleEmissionInterval);
        }
        
        function createEmissionParticle(emitter, isBlack) {
            const particle = document.createElement('div');
            particle.style.position = 'absolute';
            particle.style.width = '6px';
            particle.style.height = '6px';
            particle.style.borderRadius = '50%';
            particle.style.background = isBlack ? 'rgba(255, 255, 255, 0.7)' : 'rgba(0, 0, 0, 0.7)';
            particle.style.left = '50%';
            particle.style.top = '50%';
            particle.style.transform = 'translate(-50%, -50%)';
            particle.style.pointerEvents = 'none';
            
            emitter.appendChild(particle);
            
            const angle = Math.random() * Math.PI * 2;
            const velocity = 2 + Math.random() * 3;
            const vx = Math.cos(angle) * velocity;
            const vy = Math.sin(angle) * velocity;
            
            let posX = 0;
            let posY = 0;
            let opacity = 1;
            
            const animateParticle = () => {
                posX += vx;
                posY += vy;
                opacity -= 0.03;
                
                particle.style.left = `calc(50% + ${posX}px)`;
                particle.style.top = `calc(50% + ${posY}px)`;
                particle.style.opacity = opacity;
                
                if (opacity > 0) {
                    requestAnimationFrame(animateParticle);
                } else {
                    emitter.removeChild(particle);
                }
            };
            
            requestAnimationFrame(animateParticle);
        }

        // Animation Loop with performance optimization
        function startAnimationLoop() {
            const animate = () => {
                state5D.time += 0.01;
                
                // Update 5D effects based on time (reduced on mobile)
                if (state5D.mode5d && !device.isMobile) {
                    update5DEffects();
                }
                
                requestAnimationFrame(animate);
            };
            
            animate();
        }
        
        function update5DEffects() {
            const balls = document.querySelectorAll('.ball');
            
            balls.forEach((ball, index) => {
                // Time-based morphing
                const morphAmount = Math.sin(state5D.time + index) * 5;
                const rotateAmount = Math.cos(state5D.time + index) * 2;
                
                if (!ball.matches(':hover')) {
                    ball.style.borderRadius = `${50 + morphAmount}%`;
                    ball.style.transform = `rotateZ(${rotateAmount}deg)`;
                }
                
                // Update quantum field
                if (state5D.quantumField) {
                    const quantumWave = ball.querySelector('.quantum-wave');
                    if (quantumWave) {
                        quantumWave.style.transform = `rotate(${state5D.time * 50}deg)`;
                        quantumWave.style.opacity = 0.3 + Math.sin(state5D.time) * 0.2;
                    }
                }
            });
        }

        // Handle orientation changes
        function handleOrientationChange() {
            window.addEventListener('orientationchange', () => {
                setTimeout(() => {
                    device.orientation = window.orientation || 'portrait';
                    device.width = window.innerWidth;
                    device.height = window.innerHeight;
                    
                    // Recalculate layout
                    const balls = document.querySelectorAll('.ball');
                    balls.forEach(ball => {
                        ball.style.transform = '';
                    });
                }, 100);
            });

            // Handle resize
            window.addEventListener('resize', () => {
                device.width = window.innerWidth;
                device.height = window.innerHeight;
                
                requestTick(() => {
                    const balls = document.querySelectorAll('.ball');
                    balls.forEach(ball => {
                        ball.style.transform = '';
                    });
                });
            });
        }

        // Optimize for device
        function optimizeForDevice() {
            // Reduce animations on mobile
            if (device.isMobile || state5D.performanceMode) {
                const balls = document.querySelectorAll('.ball');
                balls.forEach(ball => {
                    ball.style.animationDuration = '30s, 12s, 6s';
                });
            }

            // Disable particle emission on mobile
            if (device.isMobile) {
                state5D.particleEmission = false;
                const toggleParticles = document.getElementById('toggleParticles');
                if (toggleParticles) {
                    toggleParticles.disabled = true;
                    toggleParticles.style.opacity = '0.5';
                    toggleParticles.style.cursor = 'not-allowed';
                }
            }

            // Adjust control panel for mobile
            if (device.isMobile) {
                const controlPanel = document.getElementById('controlPanel');
                if (controlPanel) {
                    controlPanel.style.display = 'none';
                }
            }
        }

        // Navigate to selected site
        function navigateTo(url) {
            // Add transition effect
            document.body.style.transition = 'opacity 0.5s ease';
            document.body.style.opacity = '0';
            
            // Navigate after short delay
            setTimeout(() => {
                window.open(url, '_blank');
                // Restore opacity for return
                setTimeout(() => {
                    document.body.style.opacity = '1';
                }, 100);
            }, 500);
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === '1' || e.key === 'ArrowLeft') {
                navigateTo('https://tetiana-a.github.io/senioraA/');
            } else if (e.key === '2' || e.key === 'ArrowRight') {
                navigateTo('https://tetiana-a.github.io/seniora/');
            }
        });

        // Performance optimization
        let ticking = false;
        function requestTick(callback) {
            if (!ticking) {
                requestAnimationFrame(callback);
                ticking = true;
                setTimeout(() => {
                    ticking = false;
                }, 16);
            }
        }

        // Prevent zoom on double tap for mobile
        if (device.isMobile) {
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (e) => {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    e.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }
    </script>
</body>
</html>
